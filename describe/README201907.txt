当偿还借据时，保证线程安全，同步
acct_loan 表：
id:1
name:左凯
money:100
lockFlag:0

当偿还借据时，使用独占锁
{
	begin:
	select lockFlag from acct_loan where id = '1' for update;设置锁等待超时时间
	if(lockFlag == 0){
		sys:开始偿还
		...
	}else{
		sys:有操作在应用该借据，稍等
	}
	commit;
}








某些环节快速失败“fail fast原则”
Fail fast原则是当主流程的任何一步出现问题的时候，应该快速合理地结束整个流程，而不是等到出现负面影响才处理
ConfigurablePropertyResolver.validateRequiredProperties验证必输属性，就可以做到fail fast

系统一般都有第三方依赖，比如数据库，三方接口等。系统开发的时候，需要对第三方保持怀疑，避免第三方出现问题时候的连锁反应，导致宕机。

首先针对超时不可以做重路由，因为socket timeout是不能确定这笔交易是否发送到了三方，是否已经成功或者失败
幂等性

